"use strict";(()=>{var e={};e.id=588,e.ids=[588],e.modules={11185:e=>{e.exports=require("mongoose")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},10651:(e,s,r)=>{r.r(s),r.d(s,{headerHooks:()=>y,originalPathname:()=>q,patchFetch:()=>w,requestAsyncStorage:()=>m,routeModule:()=>p,serverHooks:()=>f,staticGenerationAsyncStorage:()=>g,staticGenerationBailout:()=>j});var t={};r.r(t),r.d(t,{DELETE:()=>c,GET:()=>d,PUT:()=>l});var a=r(10884),u=r(16132),n=r(21040),i=r(48779),o=r(95798);async function d(e,{params:s}){let{userId:r}=s;try{let e=await i.n.findById(r).select("-password");if(e)return o.Z.json({message:"User retrieved successfully",success:!0,status:200,data:e});return o.Z.json({message:"User not found",success:truefalse,status:404})}catch(e){return o.Z.json({message:"Error getting user",success:!1,status:500})}}async function c(e,{params:s}){let{userId:r}=s;try{let e=await i.n.findByIdAndDelete(r);if(e)return o.Z.json({message:"User deleted successfully",success:!0,status:200});return o.Z.json({message:"User not found",success:!1,status:404})}catch(e){return o.Z.json({message:"Error deleting user",success:!1,status:500})}}async function l(e,{params:s}){let{userId:r}=s,{firstname:t,lastname:a,password:u}=await e.json();try{let e=await i.n.findById(r);if(!e)return o.Z.json({message:"User not found",success:!1,status:404});{e.firstname=t,e.lastname=a,e.password=u;let s=await e.save();return o.Z.json({message:"User updated successfully",success:!0,status:200,data:s})}}catch(e){return console.error("Error updating user",e),o.Z.json({message:"Failed to updated user",success:!1,status:500})}}let p=new a.AppRouteRouteModule({definition:{kind:u.x.APP_ROUTE,page:"/api/users/[userId]/route",pathname:"/api/users/[userId]",filename:"route",bundlePath:"app/api/users/[userId]/route"},resolvedPagePath:"C:\\Users\\6666\\Downloads\\rms\\src\\app\\api\\users\\[userId]\\route.js",nextConfigOutput:"",userland:t}),{requestAsyncStorage:m,staticGenerationAsyncStorage:g,serverHooks:f,headerHooks:y,staticGenerationBailout:j}=p,q="/api/users/[userId]/route";function w(){return(0,n.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:g})}},48779:(e,s,r)=>{r.d(s,{n:()=>n});let{Schema:t,default:a}=r(11185),u=new t({firstname:{type:String,required:[!0,"First name is required"]},lastname:{type:String,required:[!0,"Last name is required"]},email:{type:String,required:[!0,"Email id is required"],unique:!0},password:{type:String,required:[!0,"Password is required"]}}),n=a.models.Users||a.model("Users",u)}};var s=require("../../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[271,107],()=>r(10651));module.exports=t})();