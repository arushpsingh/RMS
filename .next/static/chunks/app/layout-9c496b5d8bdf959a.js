(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{8054:function(e,r,n){Promise.resolve().then(n.bind(n,8295)),Promise.resolve().then(n.bind(n,3422)),Promise.resolve().then(n.bind(n,5851)),Promise.resolve().then(n.bind(n,7790)),Promise.resolve().then(n.bind(n,979)),Promise.resolve().then(n.bind(n,1369)),Promise.resolve().then(n.bind(n,24)),Promise.resolve().then(n.bind(n,3014)),Promise.resolve().then(n.t.bind(n,2489,23)),Promise.resolve().then(n.t.bind(n,3343,23)),Promise.resolve().then(n.t.bind(n,8410,23)),Promise.resolve().then(n.bind(n,2591)),Promise.resolve().then(n.bind(n,5661)),Promise.resolve().then(n.bind(n,5506))},2591:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return _}});var i=n(230),s=n(7437),o=n(2265),t=n(851),l=n(6507),c=n(6093),h=n(5269),d=n(9600),a=n(1396),u=n.n(a),x=n(2303),f=n(9396),m=n(9605),v=n(6776),j=n(4567),Z=n(5661),b=n(2173),g=n(3014),p=n(4033);function P(){let e=(0,i._)(["\n    text-decoration: none;\n    color: #ffffff;\n"]);return P=function(){return e},e}let w=(0,j.Z)(u())(P());function _(){var e;let r=(0,o.useContext)(Z.default),n=r.user,i=(0,p.useRouter)(),a=async()=>{try{let e=await b.Z.post("/api/logout");console.log(e),r.setUser(void 0),i.push("/")}catch(e){console.error(e),g.toast.error("Logout error")}};return(0,s.jsx)(l.Z,{sx:{flexGrow:1},children:(0,s.jsx)(t.Z,{position:"static",children:(0,s.jsxs)(c.Z,{children:[(0,s.jsx)(h.Z,{variant:"h6",component:"div",sx:{flexGrow:1},children:(0,s.jsx)(w,{href:"/",children:"Resource Manager"})}),r.user&&(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(l.Z,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:[(0,s.jsx)(v.Z,{size:"small",edge:"start",color:"inherit","aria-label":"menu",children:(0,s.jsx)(x.Z,{})}),(0,s.jsx)(h.Z,{sx:{mr:1},variant:"h6",component:"div",children:(0,s.jsx)(w,{href:"/",children:"Home"})}),(0,s.jsx)(v.Z,{size:"small",edge:"start",color:"inherit","aria-label":"menu",children:(0,s.jsx)(f.Z,{})}),(0,s.jsx)(h.Z,{sx:{mr:1},variant:"h6",component:"div",children:(0,s.jsx)(w,{href:"/add-resources",children:"Add Resource"})}),(0,s.jsx)(v.Z,{size:"small",edge:"start",color:"inherit","aria-label":"menu",children:(0,s.jsx)(m.Z,{})}),(0,s.jsx)(h.Z,{sx:{mr:1},variant:"h6",component:"div",children:(0,s.jsx)(w,{href:"/show-resources",children:"Show Resource"})})]})}),!r.user&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(w,{href:"/login",children:(0,s.jsx)(d.Z,{color:"inherit",children:"Login"})}),(0,s.jsx)(w,{href:"/sign-up",children:(0,s.jsx)(d.Z,{color:"inherit",children:"Sign up"})})]}),r.user&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(w,{href:"#",children:(0,s.jsx)(d.Z,{color:"inherit",children:null==n?void 0:null===(e=n.user)||void 0===e?void 0:e.firstname})}),(0,s.jsx)(w,{href:"#",children:(0,s.jsx)(d.Z,{color:"inherit",onClick:a,children:"Logout"})})]})]})})})}},5661:function(e,r,n){"use strict";n.r(r);var i=n(2265);let s=(0,i.createContext)({});r.default=s},5506:function(e,r,n){"use strict";n.r(r);var i=n(7437),s=n(2265),o=n(5661);r.default=e=>{let{children:r}=e,[n,t]=(0,s.useState)(void 0);return(0,s.useEffect)(()=>{let e=async()=>{let e=await fetch("/api/current");if(!e.ok)throw Error("Failed to fetch current user");let r=await e.json();t({...r})};n||e()},[]),(0,i.jsx)(o.default.Provider,{value:{user:n,setUser:t},children:r})}},2489:function(){}},function(e){e.O(0,[743,446,173,539,805,971,472,744],function(){return e(e.s=8054)}),_N_E=e.O()}]);